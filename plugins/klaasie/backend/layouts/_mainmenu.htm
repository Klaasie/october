<?php
    $activeItem = BackendMenu::getActiveMainMenuItem();
    $mySettings = System\Classes\SettingsManager::instance()->listItems('mysettings');
    $navbarMode = Backend\Models\BrandSetting::get('menu_mode', 'inline');
?>

<div class="kb-menu">
    <div class="tw-container kb-menu-wrapper">
        <div id="main-menu" class="kb-menu-list">
            <?php foreach (BackendMenu::listMainMenuItems() as $item): ?>
                <?php $isActive = BackendMenu::isMainMenuItemActive($item); ?>
                <a href="<?= $item->url ?>" class="kb-menu-list-item <?= $isActive ? 'active' : null ?>">
                    <span class="menu-icon">
                         <?php if ($item->iconSvg): ?>
                            <img src="<?= Url::asset($item->iconSvg) ?>" loading="lazy"/>
                        <?php else: ?>
                            <i class="<?= $item->iconSvg ? 'svg-replace' : null ?> <?= $item->icon ?>"></i>
                        <?php endif ?>
                    </span>
                     <span class="menu-label"><?= e(trans($item->label)) ?></span>
                    <span
                        class="counter <?= !$item->counter ? 'empty' : null ?>"
                        data-menu-id="<?= e($item->code) ?>"
                    <?php if ($item->counterLabel): ?>title="<?= e(trans($item->counterLabel)) ?>"<?php endif ?>
                    >
                        <?= e($item->counter) ?>
                    </span>
                </a>
            <?php endforeach; ?>
        </div>
    </div>
</div>
