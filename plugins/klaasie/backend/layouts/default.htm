<!DOCTYPE html>
<html lang="<?= App::getLocale() ?>" class="no-js <?= $this->makeLayoutPartial('browser_detector') ?>">
    <head>
        <?= $this->makeLayoutPartial('head') ?>
        <?= $this->fireViewEvent('backend.layout.extendHead', ['layout' => 'default.htm']) ?>
    </head>
    <body class="<?= $this->bodyClass ?>">
        <div class="kb-container">
            <?= $this->makeLayoutPartial('header') ?>
            <?= $this->makeLayoutPartial('mainmenu') ?>

            <div class="kb-main-container">
                <?php $flyoutContent = Block::placeholder('sidepanel-flyout') ?>

                <div class="kb-page">
                    <div class="kb-page-container flyout-container"
                        <?php if ($flyoutContent): ?>
                            data-control="flyout"
                            data-flyout-width="400"
                            data-flyout-toggle="#layout-sidenav"
                        <?php endif ?>
                        >
                        <?php if ($flyoutContent): ?>
                            <div class="layout-cell flyout"> <?= $flyoutContent ?></div>
                            <?php endif ?>

                        <!-- Side Navigation -->
                        <?= $this->makeLayoutPartial('sidenav') ?>

                        <!-- Page content -->
                        <div class="kb-page-content">
                            <?= $this->makeLayoutPartial('page') ?>
                        </div>
                </div>
            </div>
        </div>


        <!-- Flash Messages -->
        <div id="layout-flash-messages"><?= $this->makeLayoutPartial('flash_messages') ?></div>
        <div id="overlay" class="kb-overlay"></div>
    </body>
</html>
